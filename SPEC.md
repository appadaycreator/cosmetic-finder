# Cosmetic Finder 仕様書

## プロジェクト概要

**名称**: Cosmetic Finder (コスメファインダー)  
**バージョン**: 1.0.0  
**最終更新日**: 2025年1月25日

### 目的
ユーザーの肌質を診断し、化粧品の成分を解析することで、個人に最適な化粧品選びをサポートするWebアプリケーション。

## 機能仕様

### 1. 肌質診断機能

#### 概要
5つの質問によりユーザーの肌質を診断し、パーソナライズされた推奨事項を提供。

#### 診断フロー
1. 肌質タイプ（乾燥肌、脂性肌、混合肌、敏感肌、普通肌）
2. 年齢層（10代、20代、30代、40代、50代以上）
3. 主な肌の悩み（ニキビ、シワ、シミ、毛穴、特になし）
4. 肌の敏感度（とても敏感、やや敏感、普通、丈夫）
5. 生活環境（都市部、郊外、田舎、海沿い）

#### 診断結果
- 肌タイプの判定
- パーソナライズされた説明文
- スキンケア推奨事項（3-5項目）
- おすすめ製品カテゴリー

### 2. 成分解析機能

#### 概要
化粧品の成分リストを入力し、各成分の安全性と効果を解析。

#### 解析項目
- 成分名の正規化と認識
- 安全性評価（1-5段階）
- カテゴリー分類
- アレルゲンフラグ
- 機能・効果の説明

#### 解析結果
- 総合安全性スコア（平均値）
- アレルゲン成分の数
- 各成分の詳細情報
- 使用に関する推奨事項

### 3. 製品データベース

#### 収録製品
10種類の代表的な化粧品製品を収録：
- 化粧水
- 美容液
- クリーム
- クレンジング
- フェイスマスク
- 日焼け止め
- ファンデーション

#### 製品情報
- 製品名、ブランド、カテゴリー
- 価格帯
- 適合肌タイプ
- 主要成分
- ユーザー評価

### 4. 多言語対応

#### 対応言語
- 日本語（デフォルト）
- 英語
- 中国語（簡体字）
- 韓国語

#### 翻訳範囲
- UI要素
- ナビゲーション
- 診断質問と結果
- エラーメッセージ

### 5. PWA機能

#### オフライン対応
Service Workerによる以下のリソースのキャッシュ：
- HTMLファイル
- CSS/JSファイル
- データファイル（JSON）
- アイコン画像

#### インストール可能
- ホーム画面への追加
- スタンドアロンモードでの起動
- アプリアイコンの表示

## 技術仕様

### フロントエンド
- **HTML5**: セマンティックマークアップ
- **CSS3**: Flexbox/Grid、CSS変数、メディアクエリ
- **JavaScript**: ES6+、モジュール化、非同期処理

### データ管理
- **LocalStorage**: ユーザー設定、診断履歴、解析履歴
- **JSON**: 製品データ、成分データベース

### パフォーマンス
- **遅延読み込み**: 必要に応じたリソースの読み込み
- **キャッシュ戦略**: Cache First、Network Fallback
- **最適化**: 画像圧縮、コード圧縮

### セキュリティ
- **HTTPS**: 必須（PWA要件）
- **入力検証**: XSS対策
- **プライバシー**: ローカルデータ保存のみ

## UI/UX仕様

### デザイン原則
- **レスポンシブデザイン**: モバイルファースト
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **カラースキーム**: 
  - プライマリ: #ff6b6b
  - セカンダリ: #4ecdc4
  - 背景: #f8f9fa

### ブレークポイント
- モバイル: < 768px
- タブレット: 768px - 1024px
- デスクトップ: > 1024px

### インタラクション
- **トランジション**: 0.3s ease
- **ホバーエフェクト**: 変形、影
- **フィードバック**: 即時応答

## データ仕様

### 診断データ構造
```json
{
  "id": "timestamp",
  "timestamp": "ISO 8601",
  "answers": {
    "skin-type": "string",
    "age-range": "string",
    "skin-concerns": "string",
    "sensitivity": "string",
    "environment": "string"
  },
  "result": {
    "skinType": "string",
    "recommendations": ["string"],
    "productCategories": [{}]
  }
}
```

### 成分データ構造
```json
{
  "成分名": {
    "safety": 1-5,
    "category": "string",
    "description": "string",
    "allergen": boolean,
    "functions": ["string"]
  }
}
```

## テスト仕様

### 単体テスト
- 診断ロジックのテスト
- 成分解析アルゴリズムのテスト
- データ検証のテスト

### 統合テスト
- フォーム送信のテスト
- ローカルストレージのテスト
- 多言語切り替えのテスト

### UIテスト
- レスポンシブデザインのテスト
- ブラウザ互換性テスト
- PWA機能のテスト

## 今後の拡張予定

1. **API統合**: 外部製品データベースとの連携
2. **ユーザーアカウント**: クラウド同期
3. **AI診断**: 画像認識による肌質診断
4. **コミュニティ機能**: レビュー、Q&A
5. **EC連携**: 製品購入リンク

## 変更履歴

### v1.0.0 (2025-01-25)
- 初回リリース
- 基本機能の実装
- PWA対応
- 多言語対応